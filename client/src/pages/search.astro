---
import { Icon } from 'astro-icon';
import Base from '../layouts/Base.astro';

import './index.css';
---
<Base>
	<main>
    <div class="search-wrapper">
      <input id="search-input" autofocus spellcheck="false" />
      <Icon id="search-icon" name="carbon:search" />

      <a class="random-start" href="/app">Starte mit einem zuf√§lligen Kunstwerk</a>
    </div>
  </main>
</Base>

<script>
  function onKeyPress(event) {
    if (event.key === 'Enter') {
      const value = document.getElementById('search-input').value;
      window.location = '/app#' + value;
    }
  }

  function onClick() {
    const value = document.getElementById('search-input').value;
    window.location = '/app#' + value;
  }

  document.getElementById('search-input').addEventListener('keypress', onKeyPress);
  document.getElementById('search-icon').addEventListener('click', onClick);
</script>

<style>
  main {
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .search-wrapper {
    width: 700px;
    max-width: 85%;
    position: relative;
    text-shadow: 0 0 4px rgba(0, 0, 0, 0.8);
  }

  input {
    border: 2px solid #fff;
    background-color: transparent;
    outline: none;
    padding: 14px;
    font-size: 1.6em;
    color: #fff;
    width: 100%;
  }

  svg {
    position: absolute;
    top: 0;
    right: 10px;
    bottom: 0;
    margin: auto;
    width: 50px;
    color: #fff;
    cursor: pointer;
  }

  a.random-start {
    position: absolute;
    display: block;
    width: 100%;
    text-align: center;
    color: #fff;
    padding-top: 1em;
    font-size: 1.2em;
  }

  a.random-start:hover {
    text-decoration: underline;
  }
</style>